---
title:  "How to build basic recommender system for movies"
layout: post
---

## Data

For this school exercise we used Movielens dataset for movies. 

{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 152,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import math\n",
    "import scipy\n",
    "from scipy import sparse\n",
    "import os\n",
    "import numpy as np\n",
    "import csv\n",
    "import itertools\n",
    "import sklearn\n",
    "from sklearn.metrics import mean_absolute_error\n",
    "from sklearn.metrics import precision_score\n",
    "from sklearn.metrics import recall_score\n",
    "from sklearn.metrics import mean_squared_error\n",
    "from sklearn.metrics import f1_score\n",
    "\n",
    "class Recommender:\n",
    "    def __init__(self,predictor):\n",
    "        self.predictor=predictor\n",
    "        self.processeddata=pd.DataFrame()\n",
    "        self.baba=pd.DataFrame()\n",
    "        self.numberprint=10\n",
    "    \n",
    "    def fit(self):\n",
    "        self.processeddata=self.predictor.fit()\n",
    "    \n",
    "    def recommend(self,userid,n=10,rec_seen=True):\n",
    "        self.numberprint=n\n",
    "        ratings = pd.read_csv('processed3_data.csv')\n",
    "        self.baba = ratings.pivot_table(index=['userID'],columns=['movieID'],values='rating')\n",
    "        self.baba= self.baba.transpose()\n",
    "        self.processeddata['watched'] = self.baba[userid]\n",
    "        if(rec_seen==False):\n",
    "            ff=self.processeddata[self.processeddata['watched']>1]\n",
    "        else:\n",
    "            ff=self.processeddata\n",
    "        ff.sort_values(\"Score\", inplace = True, ascending=False)\n",
    "        print(\"Prediction for user: \"+str(userid)) \n",
    "        print(ff.head(n))\n",
    "        \n",
    "    def test_data(self,userid):\n",
    "        combined=self.processeddata\n",
    "        combined.fillna(0, inplace=True)\n",
    "        combined1=combined[combined['watched']!=0]\n",
    "        \n",
    "        y_true=combined1['watched']\n",
    "        y_pred=combined1['Score']\n",
    "        \n",
    "        combined3=combined1[combined1['Score']>3.5]\n",
    "        \n",
    "        combined1=combined1[combined1['watched']>3.5]\n",
    "        \n",
    "        combined2=combined1[combined1['Score']>3.5]\n",
    "        \n",
    "        actualgood=len(combined1)\n",
    "        \n",
    "        recommendedasgood=len(combined3)\n",
    "        \n",
    "        recommendedgood=len(combined2)\n",
    "\n",
    "        MAE= mean_absolute_error(y_true, y_pred)\n",
    "        RMSE= mean_squared_error(y_true, y_pred)\n",
    "        recall=recommendedgood/actualgood\n",
    "        precision=recommendedgood/recommendedasgood\n",
    "        F1=2*recall*precision/(precision+recall)\n",
    "        print(\"MAE: \" + str(MAE)+\" RMSE:\" + str(RMSE)+\" Precision:\" + str(precision)+ \" Recall: \" + str(recall)+ \" F1: \" + str(F1))\n",
    "\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 101,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import math\n",
    "import scipy\n",
    "from scipy import sparse\n",
    "import os\n",
    "import numpy as np\n",
    "import csv\n",
    "import itertools\n",
    "\n",
    "\n",
    "\n",
    "class SlopeOnePredictor():\n",
    "    def __init__(self,user):\n",
    "        self.user=user\n",
    "    \n",
    "    def fit(self):\n",
    "        ratings = pd.read_csv('PROCESSEDRATINGDATA1.csv')  \n",
    "        baba = ratings.pivot_table(index=['userID'],columns=['movieID'],values='rating')\n",
    "        baba.fillna(0, inplace=True)\n",
    "        return(self.sloppy_one(baba))\n",
    "    \n",
    "    def obradapodataka(self,ff,one,two):\n",
    "        kek=ff[ff[one]!=0]\n",
    "        lul=kek[kek[two]!=0]\n",
    "        dazdingo=len(lul)\n",
    "        qq=((lul[one].sum()-lul[two].sum())/dazdingo)\n",
    "        return(qq,dazdingo)\n",
    "    \n",
    "    def sloppy_one(self,scp):\n",
    "\n",
    "        dev = pd.DataFrame(index=scp.columns,columns=scp.columns)\n",
    "        cardinality= pd.DataFrame(index=scp.columns,columns=scp.columns)\n",
    "        for (columnName, columnData) in scp.iteritems(): \n",
    "            for (columnName1, columnData1) in scp.iteritems(): \n",
    "                if(columnName1!=columnName):\n",
    "                    ff=scp[columnName1]\n",
    "                    fq=scp[columnName]\n",
    "                    df = pd.concat([ff, fq], axis=1)\n",
    "                    t1,t2=self.obradapodataka(df,columnName,columnName1)\n",
    "                    dev[columnName1][columnName]=t1\n",
    "                    cardinality[columnName1][columnName]=t2\n",
    "        \n",
    "        qq=self.nadjusera(scp,dev,cardinality)\n",
    "        return(qq)\n",
    "\n",
    "                              \n",
    "    def nadjusera(self,scp,dev,car):\n",
    "        userid=self.user\n",
    "        dd=scp.transpose()\n",
    "        dd2=scp.transpose()\n",
    "        nein= pd.DataFrame()\n",
    "        nein2 = scp.transpose()\n",
    "        dd[userid] = dd[userid].replace([0],np.nan)\n",
    "        for (columnName, columnData) in scp.iteritems(): \n",
    "            ff=(dd[userid]+dev[columnName])*car[columnName]\n",
    "            nein['rat']=ff\n",
    "            nein['card']=car[columnName]\n",
    "            nein.fillna(0,inplace=True)\n",
    "            nein=nein[nein['rat']!= 0]\n",
    "            ses=nein['card'].sum()\n",
    "            ses2=nein['rat'].sum()\n",
    "            nein2[userid][columnName]=(ses2/ses)\n",
    "        kk=nein2[userid].sort_values(ascending=False)\n",
    "        k1=pd.DataFrame(columns=[userid])\n",
    "        k1[userid]=kk\n",
    "        k1[k1>5]=5\n",
    "        k1.columns = ['Score']\n",
    "        return(k1)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 68,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "from scipy import sparse\n",
    "import csv\n",
    "import pandas as pd\n",
    "import numpy\n",
    "import math\n",
    "\n",
    "class AveragePredictor():\n",
    "    def __init__(self,b):\n",
    "        self.b=b\n",
    "        \n",
    "    def fit(self):\n",
    "        new_data = pd.read_csv('movaverage_data.csv')\n",
    "        new_data['tot']=new_data.groupby('movieID')['rating'].transform('sum')\n",
    "        new_data.sort_values(\"movieID\", inplace = True)\n",
    "        new_data.drop_duplicates(subset =\"movieID\",\n",
    "                     keep = \"first\", inplace = True)\n",
    "        \n",
    "        new_data.to_csv(\"processedaveragenoduplicates_data.csv\",index=False)\n",
    "        \n",
    "        new_data['avg']=new_data['tot']/new_data['freq']\n",
    "        \n",
    "        g_avg1=new_data['avg'].sum()\n",
    "        \n",
    "        g_avg2=new_data['avg'].count()\n",
    "        \n",
    "        g_avg= g_avg1/g_avg2\n",
    "        \n",
    "        pringles=pd.DataFrame(columns=['movieID','Score'])\n",
    "        \n",
    "        pringles['movieID']=new_data['movieID']\n",
    "        \n",
    "        pringles['Score'] = (new_data['tot']+self.b*g_avg)/ (new_data['freq']+self.b)\n",
    "        \n",
    "        pringles.sort_values(\"Score\", inplace = True,ascending= False)\n",
    "        \n",
    "        return(pringles)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 130,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "from scipy import sparse\n",
    "import csv\n",
    "import pandas as pd\n",
    "import numpy\n",
    "from sklearn.metrics.pairwise import cosine_similarity\n",
    "\n",
    "\n",
    "class ItemBasedPredictor():\n",
    "    def __init__(self, usr,threshold=0 , min_values=0):\n",
    "        self.threshold = threshold\n",
    "        self.min_values = min_values\n",
    "        self.corrMatrix = pd.DataFrame()\n",
    "        self.userID1 = usr\n",
    "        #solved problem of min values by taking only movies with 1000+ reviews so it doesn't take forever to run\n",
    "\n",
    "    def fit(self):\n",
    "        ratings = pd.read_csv('processed3_data.csv')\n",
    "        moviedata= pd.read_csv('movies.csv')\n",
    "        ratings = pd.merge(moviedata,ratings,left_on='id', right_on= 'movieID')\n",
    "        baba = ratings.pivot_table(index=['userID'],columns=['movieID'],values='rating')\n",
    "        biba=baba.sub(baba.mean(axis=1), axis=0)\n",
    "        biba.fillna(0, inplace=True)\n",
    "        sparse_df = sparse.csr_matrix(biba.values)\n",
    "        scp=sparse_df.transpose()\n",
    "        self.corrMatrix = pd.DataFrame(cosine_similarity(scp),index=biba.columns,columns=biba.columns)\n",
    "        self.corrMatrix[self.corrMatrix < 0]=0\n",
    "        self.corrMatrix[self.corrMatrix < self.threshold]=0\n",
    "        ratings = pd.read_csv('processed3_data.csv')\n",
    "        rd=ratings[ratings.userID == self.userID1]\n",
    "        sum=0\n",
    "        sum1=0\n",
    "        for index, row in rd.iterrows():\n",
    "            sum=sum+self.corrMatrix[int(row[1])]*row[2]\n",
    "            sum1=sum1+self.corrMatrix[int(row[1])]\n",
    "        k1=pd.DataFrame(columns=['Score'])\n",
    "        k1['Score']=sum/sum1\n",
    "        return (k1)\n",
    "        \n",
    "    def predict(self,userID1,movieID1):\n",
    "        moviedata= pd.read_csv('movies.csv')\n",
    "        md=moviedata[moviedata.id == movieID1]\n",
    "        md1=str(*md['title'])\n",
    "        ratings = pd.read_csv('processed3_data.csv')\n",
    "        rd=ratings[ratings.userID == self.userID1]\n",
    "        sum=0\n",
    "        sum1=0\n",
    "        for index, row in rd.iterrows():\n",
    "            sum=sum+self.corrMatrix[int(row[1])]*row[2]\n",
    "            sum1=sum1+self.corrMatrix[int(row[1])]\n",
    "        return (sum/sum1)[movieID1]\n",
    "        \n",
    "    def similarity(self, p1, p2):\n",
    "        print(self.CM[p1][p2])\n",
    "    \n",
    "    def similarItems(self, item, n):\n",
    "        df=self.corrMatrix[item]\n",
    "        df[df>0.999]= 0\n",
    "        dd=df.sort_values(ascending=False)\n",
    "        print(dd.head(n))\n",
    "    \n",
    "    def mostSimilar(self):\n",
    "        df=self.corrMatrix\n",
    "        df[df>0.999]= 0\n",
    "        dd=df.unstack()\n",
    "        dd1=dd.sort_values(kind=\"quicksort\",ascending=False)\n",
    "        print(dd1.head(20))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 70,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "from scipy import sparse\n",
    "import csv\n",
    "import pandas as pd\n",
    "import numpy\n",
    "import math\n",
    "\n",
    "class ControversialPredictor():\n",
    "    def __init__(self):\n",
    "        p=5\n",
    "\n",
    "    def fit(self):\n",
    "        new_data = pd.read_csv('movaverage_data.csv')\n",
    "        new_data1 = new_data.loc[(new_data['rating']>=4.0) & (new_data['freq']>100)]\n",
    "        new_data2 = new_data.loc[(new_data['rating']>=2.5) & (new_data['freq']>100)]\n",
    "\n",
    "        new_data1=new_data1['movieID'].value_counts().rename_axis('movieID').reset_index(name='positiverev')   \n",
    "        new_data2=new_data2['movieID'].value_counts().rename_axis('movieID').reset_index(name='negativerev')\n",
    "\n",
    "        new_data3=pd.merge(new_data1,new_data2)\n",
    "\n",
    "        new_data3['Score']=(new_data3['positiverev']/new_data3['negativerev'])\n",
    "\n",
    "        new_data3.sort_values(\"Score\",inplace = True,ascending=False)\n",
    "\n",
    "        return(new_data3)\n",
    "\n",
    "    \n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 71,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "from scipy import sparse\n",
    "import csv\n",
    "import pandas as pd\n",
    "import numpy\n",
    "import math\n",
    "\n",
    "class MostViewedPredictor():\n",
    "    def __init__(self):\n",
    "        p1=5\n",
    "\n",
    "    def fit(self):\n",
    "        new_data = pd.read_csv('movaverage_data.csv')\n",
    "        new_data.sort_values(\"freq\", inplace = True,ascending=False)\n",
    "        new_data.drop_duplicates(subset =\"movieID\", keep = \"first\", inplace = True)\n",
    "        return(new_data)\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 72,
   "metadata": {},
   "outputs": [],
   "source": [
    "import csv\n",
    "import pandas as pd\n",
    "import numpy\n",
    "\n",
    "class UserItemData:\n",
    "        \n",
    "    def __init__(self,path, from_date=\"1.1.1500\", to_date=\"1.1.2500\", min_rating=1000):\n",
    "        self.path = path\n",
    "        self.from_date = from_date\n",
    "        self.to_date = to_date\n",
    "        self.min_rating = min_rating\n",
    "        self.data=\"\"\n",
    "         \n",
    "    def printall(self):\n",
    "        data=pd.read_csv(self.path)\n",
    "        print(data)\n",
    "        \n",
    "    def checklen(self,streng):\n",
    "        if(len(streng)<2):\n",
    "            streng2=\"0\"+streng\n",
    "            return streng2\n",
    "        else:\n",
    "            return streng\n",
    "        \n",
    "    def wheredata(self):\n",
    "        return self.data\n",
    "    \n",
    "    def moviesnnumberofreviews(self):\n",
    "        \n",
    "        new_data=pd.read_csv(self.path)\n",
    "        new_data=new_data['movieID'].value_counts().rename_axis('movieID').reset_index(name='counts')\n",
    "        new_data1=new_data[(new_data['counts'] >= self.min_rating)]\n",
    "        self.df=new_data1;\n",
    "        self.data=\"processed_data1.csv\";\n",
    "        new_data1.to_csv(\"processed_data2.csv\",index=False)\n",
    "    \n",
    "    def processdata(self):\n",
    "        \n",
    "        x=self.from_date.split('.')\n",
    "        x1=self.to_date.split('.')\n",
    "        \n",
    "        start=int(x[2]+self.checklen(x[1])+self.checklen(x[0]))\n",
    "        end=int(x1[2]+self.checklen(x1[1])+self.checklen(x1[0]))\n",
    "        \n",
    "        data1=pd.read_csv(self.path)\n",
    "        \n",
    "                \n",
    "        data1 = data1.astype(dtype={'date_year': 'string'})\n",
    "        data1 = data1.astype(dtype={'date_month': 'string'})\n",
    "        data1 = data1.astype(dtype={'date_day': 'string'})\n",
    "        \n",
    "        \n",
    "        data1['date_month'] = data1['date_month'].str.replace(r'(^\\w{0,1}$)', r'0\\1' ,regex=True)\n",
    "        \n",
    "        data1['date_day'] = data1['date_day'].str.replace(r'(^\\w{0,1}$)', r'0\\1'  ,regex=True)\n",
    "        \n",
    "        \n",
    "        data1['realdate']= (data1['date_year']+\n",
    "        (data1['date_month'].values)+\n",
    "        (data1['date_day'].values))\n",
    "        \n",
    "        \n",
    "        data1 = data1.astype(dtype={'realdate': 'int64'})\n",
    "        \n",
    "        new_data = data1.loc[\n",
    "            (data1['realdate']>=start) & (data1['realdate']<=end)\n",
    "        ]\n",
    "        new_data['freq']=new_data.groupby('movieID')['movieID'].transform('count')\n",
    "        new_data1=new_data.loc[(new_data['freq'] >= self.min_rating)]\n",
    "        self.df=new_data1;\n",
    "        self.data=\"processed3_data.csv\";\n",
    "        new_data1.to_csv(\"processed3_data.csv\",index=False)\n",
    "        \n",
    "        return new_data1\n",
    "        \n",
    "        \n",
    "    def nofm(self):\n",
    "        self.processdata()\n",
    "        \n",
    "        df=pd.read_csv(self.data)\n",
    "        \n",
    "        df.to_csv(\"processed3_data.csv\",index=False)\n",
    "        \n",
    "        print(len(df))        \n",
    "    "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 73,
   "metadata": {},
   "outputs": [],
   "source": [
    "import csv\n",
    "import pandas as pd\n",
    "\n",
    "class MovieData:\n",
    "    def __init__(self,path):\n",
    "        self.path = path\n",
    "        \n",
    "    def findbyID(self,mid):\n",
    "        data=pd.read_csv(self.path)\n",
    "        data1=data[data.id == mid]\n",
    "        print(*data1['title'], sep='',end = '')\n",
    "        "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 74,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Movie : Toy story,Score: 5\n",
      "Movie : Heat,Score: 4\n",
      "Movie : Sabrina,Score: 3\n",
      "Movie : Tom and Huck,Score: 3\n",
      "Movie : Dracula: Dead and Loving It,Score: 4\n",
      "Movie : Cutthroat Island,Score: 5\n"
     ]
    }
   ],
   "source": [
    "import csv\n",
    "import pandas as pd\n",
    "import random\n",
    "\n",
    "class RandomPredictor:\n",
    "    def __init__(self,least,most):\n",
    "        self.least = least\n",
    "        self.most = most\n",
    "        \n",
    "    def predict(self):\n",
    "        r1 = int(random.randint( self.least, self.most))\n",
    "        return r1\n",
    "\n",
    "    \n",
    "tatko=MovieData(\"movies.csv\")\n",
    "pajs=[1,6,7,8,12,15]\n",
    "p2= RandomPredictor(1,5)\n",
    "for item in pajs: \n",
    "    printable= \"Movie : \" \n",
    "    Printable1= \",Score: \"+ str(p2.predict())\n",
    "    print(printable,end = '')\n",
    "    (tatko.findbyID(item))\n",
    "    print(Printable1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 159,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "            Score\n",
      "movieID          \n",
      "1             NaN\n",
      "32       4.661130\n",
      "47       4.608409\n",
      "50       4.594899\n",
      "69       5.000000\n",
      "...           ...\n",
      "7361     4.688773\n",
      "7438     4.511630\n",
      "8961     4.372232\n",
      "32587    4.484685\n",
      "33794    4.605964\n",
      "\n",
      "[82 rows x 1 columns]\n",
      "4.484684890481671\n",
      "movieID\n",
      "6874     0.609188\n",
      "296      0.196029\n",
      "1089     0.174498\n",
      "32587    0.163656\n",
      "2959     0.124528\n",
      "6711     0.085069\n",
      "2997     0.057837\n",
      "7361     0.056199\n",
      "858      0.055027\n",
      "4973     0.052954\n",
      "Name: 7438, dtype: float64\n"
     ]
    }
   ],
   "source": [
    "##RECOMMENDATION FOR MYSELF, GOT HIGH RATINGS BECAUSE I MOSTLY GAVE HIGH RATINGS\n",
    "ff=ItemBasedPredictor(262000,0,0)\n",
    "print(ff.fit())\n",
    "print(ff.predict(262000,32587))\n",
    "ff.similarItems(7438,10)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 161,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "            Score\n",
      "movieID          \n",
      "1        3.000000\n",
      "32       4.499924\n",
      "47       4.505285\n",
      "50       4.318407\n",
      "69       4.500000\n",
      "...           ...\n",
      "7361     4.549912\n",
      "7438     4.695148\n",
      "8961     3.591900\n",
      "32587    4.807240\n",
      "33794    3.909650\n",
      "\n",
      "[82 rows x 1 columns]\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "3.591899508749464"
      ]
     },
     "execution_count": 161,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#ITEMBASEDPREDICTOR FIT RESULTS\n",
    "\n",
    "ff=ItemBasedPredictor(75,0,0)\n",
    "print(ff.fit())\n",
    "ff.predict(75,8961)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 77,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>movieID</th>\n",
       "      <th>Score</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>656334</th>\n",
       "      <td>318</td>\n",
       "      <td>4.361388</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>325215</th>\n",
       "      <td>858</td>\n",
       "      <td>4.330173</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>145352</th>\n",
       "      <td>50</td>\n",
       "      <td>4.286236</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>315463</th>\n",
       "      <td>2959</td>\n",
       "      <td>4.249178</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>498722</th>\n",
       "      <td>3435</td>\n",
       "      <td>4.247118</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>783648</th>\n",
       "      <td>1739</td>\n",
       "      <td>1.470845</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>641899</th>\n",
       "      <td>4125</td>\n",
       "      <td>1.467829</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>95903</th>\n",
       "      <td>4775</td>\n",
       "      <td>1.279267</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>821280</th>\n",
       "      <td>6483</td>\n",
       "      <td>1.225448</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>760328</th>\n",
       "      <td>1495</td>\n",
       "      <td>1.181206</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>10109 rows × 2 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "        movieID     Score\n",
       "656334      318  4.361388\n",
       "325215      858  4.330173\n",
       "145352       50  4.286236\n",
       "315463     2959  4.249178\n",
       "498722     3435  4.247118\n",
       "...         ...       ...\n",
       "783648     1739  1.470845\n",
       "641899     4125  1.467829\n",
       "95903      4775  1.279267\n",
       "821280     6483  1.225448\n",
       "760328     1495  1.181206\n",
       "\n",
       "[10109 rows x 2 columns]"
      ]
     },
     "execution_count": 77,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#AVERAGE PREDICTOR\n",
    "\n",
    "nn=AveragePredictor(5)\n",
    "nn.fit()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 78,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>movieID</th>\n",
       "      <th>positiverev</th>\n",
       "      <th>negativerev</th>\n",
       "      <th>Score</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>682</th>\n",
       "      <td>926</td>\n",
       "      <td>141</td>\n",
       "      <td>157</td>\n",
       "      <td>0.898089</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>330</th>\n",
       "      <td>44555</td>\n",
       "      <td>253</td>\n",
       "      <td>291</td>\n",
       "      <td>0.869416</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>318</td>\n",
       "      <td>1227</td>\n",
       "      <td>1427</td>\n",
       "      <td>0.859846</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16</th>\n",
       "      <td>858</td>\n",
       "      <td>949</td>\n",
       "      <td>1104</td>\n",
       "      <td>0.859601</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>50</td>\n",
       "      <td>1026</td>\n",
       "      <td>1201</td>\n",
       "      <td>0.854288</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2061</th>\n",
       "      <td>737</td>\n",
       "      <td>2</td>\n",
       "      <td>35</td>\n",
       "      <td>0.057143</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2054</th>\n",
       "      <td>3440</td>\n",
       "      <td>3</td>\n",
       "      <td>56</td>\n",
       "      <td>0.053571</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2057</th>\n",
       "      <td>519</td>\n",
       "      <td>3</td>\n",
       "      <td>62</td>\n",
       "      <td>0.048387</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2046</th>\n",
       "      <td>762</td>\n",
       "      <td>5</td>\n",
       "      <td>120</td>\n",
       "      <td>0.041667</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2062</th>\n",
       "      <td>2412</td>\n",
       "      <td>2</td>\n",
       "      <td>56</td>\n",
       "      <td>0.035714</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>2064 rows × 4 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "      movieID  positiverev  negativerev     Score\n",
       "682       926          141          157  0.898089\n",
       "330     44555          253          291  0.869416\n",
       "2         318         1227         1427  0.859846\n",
       "16        858          949         1104  0.859601\n",
       "11         50         1026         1201  0.854288\n",
       "...       ...          ...          ...       ...\n",
       "2061      737            2           35  0.057143\n",
       "2054     3440            3           56  0.053571\n",
       "2057      519            3           62  0.048387\n",
       "2046      762            5          120  0.041667\n",
       "2062     2412            2           56  0.035714\n",
       "\n",
       "[2064 rows x 4 columns]"
      ]
     },
     "execution_count": 78,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#CONTROVERSIAL PREDICOTR\n",
    "\n",
    "qq=ControversialPredictor()\n",
    "qq.fit()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 79,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Friday"
     ]
    }
   ],
   "source": [
    "#moviereader\n",
    "\n",
    "mv=MovieData(\"movies.csv\")\n",
    "mv.findbyID(69)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 143,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>userID</th>\n",
       "      <th>movieID</th>\n",
       "      <th>rating</th>\n",
       "      <th>date_day</th>\n",
       "      <th>date_month</th>\n",
       "      <th>date_year</th>\n",
       "      <th>date_hour</th>\n",
       "      <th>date_minute</th>\n",
       "      <th>date_second</th>\n",
       "      <th>realdate</th>\n",
       "      <th>freq</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>431922</th>\n",
       "      <td>34197</td>\n",
       "      <td>2571</td>\n",
       "      <td>3.0</td>\n",
       "      <td>4</td>\n",
       "      <td>8</td>\n",
       "      <td>2004</td>\n",
       "      <td>6</td>\n",
       "      <td>42</td>\n",
       "      <td>48</td>\n",
       "      <td>20040804</td>\n",
       "      <td>1670</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>502918</th>\n",
       "      <td>40260</td>\n",
       "      <td>4993</td>\n",
       "      <td>5.0</td>\n",
       "      <td>30</td>\n",
       "      <td>1</td>\n",
       "      <td>2002</td>\n",
       "      <td>7</td>\n",
       "      <td>31</td>\n",
       "      <td>57</td>\n",
       "      <td>20020130</td>\n",
       "      <td>1576</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>61043</th>\n",
       "      <td>6018</td>\n",
       "      <td>356</td>\n",
       "      <td>4.0</td>\n",
       "      <td>2</td>\n",
       "      <td>1</td>\n",
       "      <td>2006</td>\n",
       "      <td>2</td>\n",
       "      <td>45</td>\n",
       "      <td>29</td>\n",
       "      <td>20060102</td>\n",
       "      <td>1568</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>446674</th>\n",
       "      <td>35223</td>\n",
       "      <td>296</td>\n",
       "      <td>5.0</td>\n",
       "      <td>24</td>\n",
       "      <td>11</td>\n",
       "      <td>2003</td>\n",
       "      <td>4</td>\n",
       "      <td>16</td>\n",
       "      <td>53</td>\n",
       "      <td>20031124</td>\n",
       "      <td>1537</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>717086</th>\n",
       "      <td>59577</td>\n",
       "      <td>5952</td>\n",
       "      <td>4.5</td>\n",
       "      <td>4</td>\n",
       "      <td>9</td>\n",
       "      <td>2006</td>\n",
       "      <td>0</td>\n",
       "      <td>52</td>\n",
       "      <td>7</td>\n",
       "      <td>20060904</td>\n",
       "      <td>1528</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>77303</th>\n",
       "      <td>6757</td>\n",
       "      <td>56744</td>\n",
       "      <td>3.0</td>\n",
       "      <td>13</td>\n",
       "      <td>12</td>\n",
       "      <td>2008</td>\n",
       "      <td>6</td>\n",
       "      <td>44</td>\n",
       "      <td>12</td>\n",
       "      <td>20081213</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>715269</th>\n",
       "      <td>59496</td>\n",
       "      <td>6913</td>\n",
       "      <td>5.0</td>\n",
       "      <td>12</td>\n",
       "      <td>11</td>\n",
       "      <td>2006</td>\n",
       "      <td>3</td>\n",
       "      <td>57</td>\n",
       "      <td>32</td>\n",
       "      <td>20061112</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>431467</th>\n",
       "      <td>34197</td>\n",
       "      <td>1001</td>\n",
       "      <td>2.0</td>\n",
       "      <td>28</td>\n",
       "      <td>10</td>\n",
       "      <td>2003</td>\n",
       "      <td>19</td>\n",
       "      <td>22</td>\n",
       "      <td>32</td>\n",
       "      <td>20031028</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>716737</th>\n",
       "      <td>59557</td>\n",
       "      <td>61354</td>\n",
       "      <td>0.5</td>\n",
       "      <td>27</td>\n",
       "      <td>12</td>\n",
       "      <td>2008</td>\n",
       "      <td>3</td>\n",
       "      <td>21</td>\n",
       "      <td>44</td>\n",
       "      <td>20081227</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>159253</th>\n",
       "      <td>13318</td>\n",
       "      <td>7567</td>\n",
       "      <td>4.0</td>\n",
       "      <td>2</td>\n",
       "      <td>4</td>\n",
       "      <td>2005</td>\n",
       "      <td>20</td>\n",
       "      <td>22</td>\n",
       "      <td>42</td>\n",
       "      <td>20050402</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>10109 rows × 11 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "        userID  movieID  rating  date_day  date_month  date_year  date_hour  \\\n",
       "431922   34197     2571     3.0         4           8       2004          6   \n",
       "502918   40260     4993     5.0        30           1       2002          7   \n",
       "61043     6018      356     4.0         2           1       2006          2   \n",
       "446674   35223      296     5.0        24          11       2003          4   \n",
       "717086   59577     5952     4.5         4           9       2006          0   \n",
       "...        ...      ...     ...       ...         ...        ...        ...   \n",
       "77303     6757    56744     3.0        13          12       2008          6   \n",
       "715269   59496     6913     5.0        12          11       2006          3   \n",
       "431467   34197     1001     2.0        28          10       2003         19   \n",
       "716737   59557    61354     0.5        27          12       2008          3   \n",
       "159253   13318     7567     4.0         2           4       2005         20   \n",
       "\n",
       "        date_minute  date_second  realdate  freq  \n",
       "431922           42           48  20040804  1670  \n",
       "502918           31           57  20020130  1576  \n",
       "61043            45           29  20060102  1568  \n",
       "446674           16           53  20031124  1537  \n",
       "717086           52            7  20060904  1528  \n",
       "...             ...          ...       ...   ...  \n",
       "77303            44           12  20081213     1  \n",
       "715269           57           32  20061112     1  \n",
       "431467           22           32  20031028     1  \n",
       "716737           21           44  20081227     1  \n",
       "159253           22           42  20050402     1  \n",
       "\n",
       "[10109 rows x 11 columns]"
      ]
     },
     "execution_count": 143,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#MOST VIEWED PREDICTOR\n",
    "\n",
    "qqq=MostViewedPredictor()\n",
    "qqq.fit()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 128,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-101-888e39678d84>:62: RuntimeWarning: invalid value encountered in longlong_scalars\n",
      "  nein2[userid][columnName]=(ses2/ses)\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Score</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>movieID</th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>780</th>\n",
       "      <td>4.831959</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>480</th>\n",
       "      <td>4.112144</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6539</th>\n",
       "      <td>4.087859</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4306</th>\n",
       "      <td>4.077382</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1270</th>\n",
       "      <td>4.039392</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2762</th>\n",
       "      <td>4.019126</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6874</th>\n",
       "      <td>4.000900</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>593</th>\n",
       "      <td>3.837974</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2858</th>\n",
       "      <td>3.801468</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2571</th>\n",
       "      <td>3.716032</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4226</th>\n",
       "      <td>3.707737</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5952</th>\n",
       "      <td>3.678348</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4993</th>\n",
       "      <td>3.661607</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2959</th>\n",
       "      <td>3.587335</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7153</th>\n",
       "      <td>3.536265</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7361</th>\n",
       "      <td>3.474551</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>356</th>\n",
       "      <td>3.441534</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>260</th>\n",
       "      <td>3.410716</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>296</th>\n",
       "      <td>3.161443</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>318</th>\n",
       "      <td>3.033856</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>32587</th>\n",
       "      <td>2.499397</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8961</th>\n",
       "      <td>2.469152</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>33794</th>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "            Score\n",
       "movieID          \n",
       "780      4.831959\n",
       "480      4.112144\n",
       "6539     4.087859\n",
       "4306     4.077382\n",
       "1270     4.039392\n",
       "2762     4.019126\n",
       "6874     4.000900\n",
       "593      3.837974\n",
       "2858     3.801468\n",
       "2571     3.716032\n",
       "4226     3.707737\n",
       "5952     3.678348\n",
       "4993     3.661607\n",
       "2959     3.587335\n",
       "7153     3.536265\n",
       "7361     3.474551\n",
       "356      3.441534\n",
       "260      3.410716\n",
       "296      3.161443\n",
       "318      3.033856\n",
       "32587    2.499397\n",
       "8961     2.469152\n",
       "33794         NaN"
      ]
     },
     "execution_count": 128,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#SLOPEONE #THIS USES REALLY SMALL DATASAMPLE FOR SPEED\n",
    "\n",
    "qqq2=SlopeOnePredictor(783)\n",
    "qqq2.fit()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "97681\n"
     ]
    }
   ],
   "source": [
    "UID=UserItemData(\"user_ratedmovies.csv\")\n",
    "UID.processdata()\n",
    "UID.nofm()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 154,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Prediction for user: 783\n",
      "            Score  watched\n",
      "movieID                   \n",
      "780      4.831959      NaN\n",
      "480      4.112144      2.0\n",
      "6539     4.087859      3.0\n",
      "4306     4.077382      4.5\n",
      "1270     4.039392      4.0\n",
      "2762     4.019126      NaN\n",
      "6874     4.000900      NaN\n",
      "593      3.837974      0.5\n",
      "2858     3.801468      NaN\n",
      "2571     3.716032      3.5\n",
      "MAE: 1.0679661653314205 RMSE:2.259267274795023 Precision:0.5555555555555556 Recall: 0.8333333333333334 F1: 0.6666666666666667\n"
     ]
    },
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-101-888e39678d84>:62: RuntimeWarning: invalid value encountered in longlong_scalars\n",
      "  nein2[userid][columnName]=(ses2/ses)\n"
     ]
    }
   ],
   "source": [
    "userid=783\n",
    "\n",
    "qqq2=SlopeOnePredictor(userid)\n",
    "\n",
    "www=Recommender(qqq2)\n",
    "\n",
    "www.fit()\n",
    "\n",
    "www.recommend(userid)\n",
    "\n",
    "www.test_data(userid)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 153,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Prediction for user: 783\n",
      "            Score  watched\n",
      "movieID                   \n",
      "8961     4.219896      5.0\n",
      "4306     4.111577      4.5\n",
      "5952     4.084930      4.0\n",
      "6377     4.032542      4.0\n",
      "7153     4.026766      4.5\n",
      "4886     4.021197      4.0\n",
      "4993     4.017675      4.5\n",
      "1265     3.879719      4.5\n",
      "1270     3.761612      4.0\n",
      "1        3.752522      NaN\n",
      "MAE: 0.43457568072645214 RMSE:0.308854960197358 Precision:0.8235294117647058 Recall: 0.9333333333333333 F1: 0.8749999999999999\n"
     ]
    }
   ],
   "source": [
    "mv1=MovieData(\"movies.csv\")\n",
    "\n",
    "userid=783\n",
    "\n",
    "qqq3=ItemBasedPredictor(userid)\n",
    "\n",
    "www1=Recommender(qqq3)\n",
    "\n",
    "www1.fit()\n",
    "\n",
    "www1.recommend(userid)\n",
    "\n",
    "www1.test_data(userid)\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 155,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Prediction for user: 783\n",
      "        movieID     Score  watched\n",
      "656334      318  4.357432      NaN\n",
      "325215      858  4.325292      NaN\n",
      "145352       50  4.281868      NaN\n",
      "315463     2959  4.245591      NaN\n",
      "705575      296  4.231826      NaN\n",
      "356101     1203  4.229550      NaN\n",
      "165244    44555  4.225770      NaN\n",
      "498722     3435  4.225761      NaN\n",
      "313689     1221  4.216705      NaN\n",
      "789883      912  4.214927      NaN\n",
      "342073      750  4.213186      NaN\n",
      "654565    58559  4.207013      NaN\n",
      "188054      926  4.203730      NaN\n",
      "703221     6016  4.196904      NaN\n",
      "136780     1193  4.184943      NaN\n",
      "324136     4973  4.181895      NaN\n",
      "43977      4226  4.176793      NaN\n",
      "44650      2571  4.168235      NaN\n",
      "270662      527  4.166639      NaN\n",
      "325506     2019  4.166234      NaN\n",
      "489788      904  4.163399      NaN\n"
     ]
    }
   ],
   "source": [
    "mv1=MovieData(\"movies.csv\")\n",
    "\n",
    "userid=783\n",
    "\n",
    "qqq34=AveragePredictor(10)\n",
    "\n",
    "www11=Recommender(qqq34)\n",
    "\n",
    "www11.fit()\n",
    "\n",
    "www11.recommend(userid,21)\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}